[gd_scene format=3 uid="uid://duqfgmk3q5eug"]

[ext_resource type="Script" uid="uid://b5e3244vsgv42" path="res://enemy/enemy.gd" id="1_2mvqj"]
[ext_resource type="PackedScene" uid="uid://6muuir2bfjfl" path="res://enemy/mask/mask.tscn" id="2_ofsxj"]
[ext_resource type="PackedScene" uid="uid://dnoouc5e0reku" path="res://enemy/Monster/MaskMonster.glb" id="2_ppra6"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_scxef"]
radius = 0.29296875

[sub_resource type="BoxMesh" id="BoxMesh_ofsxj"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p200p"]
animation = &"Die"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pmsee"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1wwld"]
animation = &"Spawn"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_y5vj3"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5ffra"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_e355f"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_78jik"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"is_dead"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_o3pv7"]
states/Die/node = SubResource("AnimationNodeAnimation_p200p")
states/Die/position = Vector2(671, 33.079998)
states/Idle/node = SubResource("AnimationNodeAnimation_pmsee")
states/Idle/position = Vector2(528.6, 33.032646)
states/Spawn/node = SubResource("AnimationNodeAnimation_1wwld")
states/Spawn/position = Vector2(391.6, 33.413635)
states/Start/position = Vector2(196, 83.99999)
transitions = ["Start", "Spawn", SubResource("AnimationNodeStateMachineTransition_y5vj3"), "Die", "End", SubResource("AnimationNodeStateMachineTransition_5ffra"), "Spawn", "Idle", SubResource("AnimationNodeStateMachineTransition_e355f"), "Idle", "Die", SubResource("AnimationNodeStateMachineTransition_78jik")]
graph_offset = Vector2(125, -25)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_xoplw"]
graph_offset = Vector2(-219.97156, 51.127052)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_o3pv7")
nodes/StateMachine/position = Vector2(-48, 144)
node_connections = [&"output", 0, &"StateMachine"]

[node name="Enemy" type="CharacterBody3D" unique_id=2005698740]
script = ExtResource("1_2mvqj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." unique_id=309718217]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.18661314, 0)
shape = SubResource("CapsuleShape3D_scxef")

[node name="EnemyMesh" parent="." unique_id=1169895927 instance=ExtResource("2_ppra6")]
unique_name_in_owner = true
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, -0.52551943, 0)

[node name="Skeleton3D" parent="EnemyMesh/rig" parent_id_path=PackedInt32Array(1169895927, 1229890942) index="0" unique_id=391046139]
bones/1/position = Vector3(1.7217646e-08, -0.011835292, -0.027601704)
bones/1/rotation = Quaternion(0.74140036, 7.99969e-08, 8.8381796e-08, 0.67106295)
bones/1/scale = Vector3(1.2234787, 0.66804737, 1.2234787)
bones/2/rotation = Quaternion(-0.04733997, -0.00024298226, -0.03170943, 0.9983754)
bones/2/scale = Vector3(0.8010595, 1.5622772, 0.8048015)
bones/3/rotation = Quaternion(0.087562606, -0.0275076, -0.07045026, 0.993284)
bones/3/scale = Vector3(0.7627339, 1.7205654, 0.76235026)
bones/4/rotation = Quaternion(0.16184673, -0.0755127, -0.054583184, 0.98240733)
bones/4/scale = Vector3(1.3126266, 0.6631817, 1.2884872)
bones/5/rotation = Quaternion(0.009383762, 0.0033447207, 0.04170509, 0.9990803)
bones/5/scale = Vector3(1.0095497, 0.9809205, 1.009838)
bones/6/position = Vector3(1.2238697, -0.5420008, 1.4444487)
bones/6/rotation = Quaternion(0.45020437, 0.7315433, 0.09277034, 0.50354165)
bones/6/scale = Vector3(0.9999999, 29.830563, 0.9999998)
bones/7/position = Vector3(-0.6326935, -0.18420815, 1.716953)
bones/7/rotation = Quaternion(0.26138127, -0.58259356, -0.26711288, 0.72174466)
bones/7/scale = Vector3(0.9999998, 34.36874, 0.9999998)
bones/11/position = Vector3(0.25484487, -0.18457441, 1.1018834)
bones/11/rotation = Quaternion(0.22945634, 0.082558796, -0.17884445, 0.95317817)
bones/14/rotation = Quaternion(-0.7269756, -8.185661e-08, -8.6662176e-08, 0.68666327)
bones/21/position = Vector3(0.084948294, -0.15148765, 0.71645755)
bones/21/rotation = Quaternion(0.07756532, 0.027908461, -0.06045723, 0.9947611)
bones/21/scale = Vector3(1, 1, 0.99999994)
bones/23/position = Vector3(-0.020455632, -0.40819538, 0.019627102)
bones/23/rotation = Quaternion(-0.0013324659, 0.030534735, 0.013380113, 0.9994433)
bones/23/scale = Vector3(1, 1.0000001, 1)
bones/24/position = Vector3(3.3193142e-09, 0.090327, -0.0022034782)
bones/29/position = Vector3(0.08494827, 0.41334057, 0.04796205)
bones/29/rotation = Quaternion(-0.6416876, -0.022450836, -0.062689185, 0.7640701)
bones/29/scale = Vector3(0.99999994, 0.9999998, 0.9999999)
bones/30/scale = Vector3(1.0000001, 1, 1.0000001)
bones/36/position = Vector3(0.084948294, 0.4133404, 0.047962047)
bones/36/rotation = Quaternion(-0.6416876, -0.022450814, -0.06268917, 0.7640701)
bones/36/scale = Vector3(0.9999999, 0.9999997, 0.9999997)
bones/41/position = Vector3(0.021071082, 0.5430094, -0.055128183)
bones/41/rotation = Quaternion(0.13785829, 0.8064709, -0.55347925, 0.15575865)
bones/41/scale = Vector3(1.0061363, 1.0061361, 1.0061368)
bones/42/rotation = Quaternion(0.060195558, 7.984424e-07, 1.5918577e-07, 0.99818665)
bones/42/scale = Vector3(1.0024223, 1.0024221, 1.0024223)
bones/43/rotation = Quaternion(0.06810297, 0.44164366, 0.13257028, 0.8847248)
bones/43/scale = Vector3(0.99151057, 0.99151057, 0.9915106)
bones/45/position = Vector3(-6.5208496e-09, -9.309531e-10, -1.4901175e-07)
bones/46/scale = Vector3(0.99151075, 0.9915107, 0.9915104)
bones/48/position = Vector3(4.0588276e-08, 0.43102103, -9.684995e-08)
bones/48/rotation = Quaternion(6.658699e-08, 0.22813332, -4.6055217e-08, 0.9736299)
bones/48/scale = Vector3(0.9915109, 0.9915109, 0.9915105)
bones/50/scale = Vector3(0.9939085, 0.9939084, 0.99390817)
bones/51/position = Vector3(0.028169068, 0.709899, -0.11512423)
bones/51/rotation = Quaternion(0.11636153, -0.26554146, -0.0035693739, 0.957045)
bones/51/scale = Vector3(0.99390846, 0.99390835, 0.9939084)
bones/54/rotation = Quaternion(-0.009812547, -0.005755964, -0.19518766, 0.98069996)
bones/54/scale = Vector3(1.0000004, 1.0000002, 1.0000004)
bones/55/rotation = Quaternion(0.00022902717, -0.00017329142, 0.49643987, 0.8680711)
bones/55/scale = Vector3(1.0000002, 1.0000004, 1.0000005)
bones/60/rotation = Quaternion(0.18053249, 0.6153747, -0.75062156, 0.15902646)
bones/61/position = Vector3(-9.4150714e-08, -1.3290516e-07, 8.6028535e-08)
bones/61/rotation = Quaternion(-0.022058178, 0.47569072, 0.011967311, 0.87925464)
bones/61/scale = Vector3(1.006136, 1.0061363, 1.0061364)
bones/62/rotation = Quaternion(0.060195558, 7.9944067e-07, 1.5766045e-07, 0.99818665)
bones/62/scale = Vector3(1.0024223, 1.0024222, 1.0024223)
bones/63/position = Vector3(0.021071086, 0.54300934, -0.055128187)
bones/63/rotation = Quaternion(-0.1670615, 0.61088806, -0.5453712, 0.54906887)
bones/63/scale = Vector3(1.0000005, 1.0000002, 1.0000004)
bones/64/position = Vector3(-0.17789222, 0.21256228, -0.15884909)
bones/65/position = Vector3(0.030462328, 0.8366429, -0.18063968)
bones/65/rotation = Quaternion(-0.17654413, 0.54964805, -0.6372941, 0.510466)
bones/65/scale = Vector3(1.0824993, 0.85338575, 1.0824994)
bones/66/rotation = Quaternion(2.2976249e-07, 0.26704156, -1.7454302e-07, 0.96368504)
bones/66/scale = Vector3(0.9999997, 1.0000008, 0.9999994)
bones/67/rotation = Quaternion(-0.059319973, 0.26432973, -0.01676074, 0.96246046)
bones/67/scale = Vector3(0.9207022, 1.178295, 0.92342836)
bones/68/rotation = Quaternion(8.825644e-09, 0.22821593, 3.8537498e-09, 0.9736105)
bones/69/rotation = Quaternion(0.03638769, 0.22829224, 0.14463015, 0.9621023)
bones/69/scale = Vector3(1.0030769, 0.99274635, 1.0042592)
bones/71/position = Vector3(-0.021071304, 0.5430094, -0.055128183)
bones/71/rotation = Quaternion(0.324825, -0.68977505, 0.6470276, -0.007371581)
bones/71/scale = Vector3(1.015765, 1.0157652, 1.0157655)
bones/72/rotation = Quaternion(0.01599119, -7.3197606e-07, -2.1570699e-07, 0.9998722)
bones/72/scale = Vector3(1.0061972, 1.0061971, 1.0061973)
bones/73/rotation = Quaternion(0.035225127, -0.015029926, -0.26753688, 0.96278626)
bones/73/scale = Vector3(0.97842246, 0.9784226, 0.9784221)
bones/75/position = Vector3(7.5437995e-08, -1.4901445e-08, -4.8428337e-08)
bones/76/scale = Vector3(0.97842264, 0.97842246, 0.9784222)
bones/78/position = Vector3(-9.813871e-08, 0.43102127, -1.1550549e-07)
bones/78/rotation = Quaternion(5.2762186e-08, -0.0076786503, -7.836138e-08, 0.99997056)
bones/78/scale = Vector3(0.9784228, 0.97842264, 0.9784224)
bones/80/scale = Vector3(0.9844839, 0.9844836, 0.9844834)
bones/81/position = Vector3(0.019319993, 0.6252724, -0.074070275)
bones/81/rotation = Quaternion(0.05377538, 0.3382995, 0.036868278, 0.9387771)
bones/81/scale = Vector3(0.98448384, 0.9844838, 0.984484)
bones/84/rotation = Quaternion(-0.0098125655, 0.0057560145, 0.1951877, 0.98069996)
bones/84/scale = Vector3(1.0000002, 1.0000004, 1.0000004)
bones/85/rotation = Quaternion(0.00022902522, 0.00017339458, -0.4964399, 0.8680711)
bones/85/scale = Vector3(1.0000004, 1.0000004, 1.0000004)
bones/90/rotation = Quaternion(0.16292687, -0.5459804, 0.8217769, -0.006555863)
bones/91/position = Vector3(-3.843406e-08, -2.8154105e-08, -1.6899982e-08)
bones/91/rotation = Quaternion(-0.0053517283, -0.5981026, -0.003999591, 0.8013917)
bones/91/scale = Vector3(1.015765, 1.0157654, 1.0157654)
bones/92/rotation = Quaternion(0.01599119, -7.3644026e-07, -2.1532301e-07, 0.9998722)
bones/92/scale = Vector3(1.0061972, 1.0061971, 1.0061973)
bones/93/position = Vector3(-0.021071302, 0.5430093, -0.05512828)
bones/93/rotation = Quaternion(-0.16297983, -0.5356629, 0.70540226, 0.4346385)
bones/93/scale = Vector3(1.0000004, 1.0000004, 1.0000004)
bones/94/position = Vector3(0.15512918, 0.042674758, 0.010719368)
bones/95/position = Vector3(-0.13553278, 0.6565603, -0.05286831)
bones/95/rotation = Quaternion(-0.19942898, -0.527092, 0.72976387, 0.38710067)
bones/95/scale = Vector3(1.0057464, 0.98860604, 1.0057464)
bones/96/rotation = Quaternion(1.03742224e-07, -0.33956847, 4.2206383e-07, 0.9405814)
bones/97/rotation = Quaternion(-0.038955756, -0.33889222, -0.031218529, 0.9394999)
bones/97/scale = Vector3(0.9836464, 1.0333999, 0.9837791)
bones/98/rotation = Quaternion(-1.6368125e-08, -0.0077634663, 1.818268e-08, 0.99996996)
bones/99/rotation = Quaternion(0.032800283, -0.007789879, -0.26783654, 0.9628744)
bones/99/scale = Vector3(1.0021966, 0.98752886, 1.0108538)
bones/100/position = Vector3(0.42621648, -0.0022113621, -0.16368105)
bones/102/position = Vector3(-0.3952504, -0.0195315, -0.087939754)
bones/104/position = Vector3(0.42621648, -0.0022113621, -0.16368105)
bones/106/position = Vector3(-0.3952504, -0.0195315, -0.087939754)
bones/118/rotation = Quaternion(0.07602078, 0.5022346, 0.7755522, -0.3748334)
bones/121/position = Vector3(-1.1653742, -0.52602947, -2.1737852)
bones/121/rotation = Quaternion(0.6919666, 0.24013077, -0.26954842, -0.62519056)
bones/121/scale = Vector3(1.0000001, 1.0000001, 1)
bones/123/position = Vector3(2.6774309, 2.9547477, -0.9681276)
bones/123/rotation = Quaternion(-0.51174855, -0.06808424, -0.18484, 0.8362489)
bones/123/scale = Vector3(0.99999976, 0.9999997, 0.9999996)
bones/124/rotation = Quaternion(0.9716407, -5.1287955e-08, -0.2271498, 0.065706044)
bones/124/scale = Vector3(0.99999905, 0.9999999, 0.99998206)
bones/126/position = Vector3(1.6329318, -0.13949674, -1.8730934)
bones/126/rotation = Quaternion(0.6408089, -0.501517, 0.53716356, -0.22203648)
bones/126/scale = Vector3(1, 1.0000001, 1.0000001)
bones/128/position = Vector3(-0.3913555, 3.7514253, -1.9763788)
bones/128/rotation = Quaternion(-0.51174855, -0.06808424, -0.18484, 0.8362489)
bones/128/scale = Vector3(0.99999964, 0.9999997, 0.9999995)
bones/129/rotation = Quaternion(0.9716407, -2.14443e-08, 0.2271498, 0.06570609)
bones/129/scale = Vector3(0.99999917, 0.99999994, 0.9999822)

[node name="MaskSocket1" type="BoneAttachment3D" parent="EnemyMesh/rig/Skeleton3D" index="1" unique_id=1398618424]
transform = Transform3D(-0.42289448, -0.8970525, 0.12828358, 0.80923283, -0.31014067, 0.49895278, -0.40780124, 0.31481564, 0.8570813, 0.32943854, 2.8629992, 0.6168181)
bone_name = "MaskBone.UpperSpine.R"
bone_idx = 117

[node name="Mask1" parent="EnemyMesh/rig/Skeleton3D/MaskSocket1" unique_id=1702853835 instance=ExtResource("2_ofsxj")]
unique_name_in_owner = true
transform = Transform3D(0.42148617, 0.5894889, 0.19326714, -0.29424918, -0.01572908, 0.6896883, 0.54613805, -0.46341705, 0.22243609, 0.3053214, 0.35337073, 0.26110804)

[node name="MaskSocket2" type="BoneAttachment3D" parent="EnemyMesh/rig/Skeleton3D" index="2" unique_id=1825298830]
transform = Transform3D(-0.65050924, 0.31012285, -0.69329727, -0.7345327, -0.024769187, 0.6781202, 0.19312814, 0.95037323, 0.24390784, 0.75049204, 2.636576, 0.66802764)
bone_name = "MaskBone.Shoulder.L"
bone_idx = 109

[node name="Mask2" parent="EnemyMesh/rig/Skeleton3D/MaskSocket2" unique_id=1500641921 instance=ExtResource("2_ofsxj")]
unique_name_in_owner = true
transform = Transform3D(0.42148617, 0.5894889, 0.19326714, -0.29424918, -0.01572908, 0.6896883, 0.54613805, -0.46341705, 0.22243609, 0.3053214, 0.35337073, 0.26110804)

[node name="MaskSocket3" type="BoneAttachment3D" parent="EnemyMesh/rig/Skeleton3D" index="3" unique_id=788118794]
transform = Transform3D(0.29099044, -0.7670824, 0.5717596, 0.7058425, -0.23129755, -0.66954297, 0.64584124, 0.59840286, 0.4741338, 0.050115123, 1.5240144, 0.06685243)
bone_name = "MaskBone.LowLowSpine.R"
bone_idx = 26

[node name="Mask3" parent="EnemyMesh/rig/Skeleton3D/MaskSocket3" unique_id=1870763949 instance=ExtResource("2_ofsxj")]
unique_name_in_owner = true
transform = Transform3D(0.42148617, 0.5894889, 0.19326714, -0.29424918, -0.01572908, 0.6896883, 0.54613805, -0.46341705, 0.22243609, 0.3053214, 0.35337073, 0.26110804)

[node name="MaskSocket4" type="BoneAttachment3D" parent="EnemyMesh/rig/Skeleton3D" index="4" unique_id=1310851106]
transform = Transform3D(0.08788036, -0.8138764, 0.57435375, 0.90449756, -0.17636172, -0.38830453, 0.4173259, 0.553626, 0.7206505, 0.1989008, 2.2265131, 0.2610395)
bone_name = "MaskBone.LowSpine.R"
bone_idx = 33

[node name="Mask4" parent="EnemyMesh/rig/Skeleton3D/MaskSocket4" unique_id=1746759714 instance=ExtResource("2_ofsxj")]
unique_name_in_owner = true
transform = Transform3D(0.42148617, 0.5894889, 0.19326714, -0.29424918, -0.01572908, 0.6896883, 0.54613805, -0.46341705, 0.22243609, 0.3053214, 0.35337073, 0.26110804)

[node name="MaskSocket2" type="Node3D" parent="." unique_id=761905197]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.023441717, 0.6562109, 0.5098043)
visible = false

[node name="Mask" parent="MaskSocket2" unique_id=295150212 instance=ExtResource("2_ofsxj")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)

[node name="MaskSocket3" type="Node3D" parent="." unique_id=643697745]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.27540755, 0.6562109, 0.5098043)
visible = false

[node name="Mask" parent="MaskSocket3" unique_id=638400878 instance=ExtResource("2_ofsxj")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)

[node name="MaskSocket4" type="Node3D" parent="." unique_id=951169212]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.2289911, 0.3439625, 0.5098043)
visible = false

[node name="Mask" parent="MaskSocket4" unique_id=1598036917 instance=ExtResource("2_ofsxj")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)

[node name="MaskSocket5" type="Node3D" parent="." unique_id=1000147875]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.023441717, 0.3439625, 0.5098043)
visible = false

[node name="Mask" parent="MaskSocket5" unique_id=1881544737 instance=ExtResource("2_ofsxj")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)

[node name="MaskSocket6" type="Node3D" parent="." unique_id=567108012]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.27540755, 0.3439625, 0.5098043)
visible = false

[node name="Mask" parent="MaskSocket6" unique_id=307884043 instance=ExtResource("2_ofsxj")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)

[node name="MaskSocket7" type="Node3D" parent="." unique_id=382927241]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.2289911, 0.024394274, 0.5098043)
visible = false

[node name="Mask" parent="MaskSocket7" unique_id=750913568 instance=ExtResource("2_ofsxj")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)

[node name="MaskSocket8" type="Node3D" parent="." unique_id=1196584781]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.023441717, 0.024394274, 0.5098043)
visible = false

[node name="Mask" parent="MaskSocket8" unique_id=224174317 instance=ExtResource("2_ofsxj")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)

[node name="MaskSocket9" type="Node3D" parent="." unique_id=154577408]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.27540755, 0.024394274, 0.5098043)
visible = false

[node name="Mask" parent="MaskSocket9" unique_id=1953879215 instance=ExtResource("2_ofsxj")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)

[node name="EmotionMessage" type="Label3D" parent="." unique_id=1178853147]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.337877, 0)
visible = false
no_depth_test = true
render_priority = 1
text = "HI THERE FRIEND"
autowrap_mode = 1
width = 1000.0

[node name="PersonMesh" type="MeshInstance3D" parent="." unique_id=793638429]
visible = false
mesh = SubResource("BoxMesh_ofsxj")

[node name="AnimationTree" type="AnimationTree" parent="." unique_id=990397872]
unique_name_in_owner = true
root_node = NodePath("%EnemyMesh")
tree_root = SubResource("AnimationNodeBlendTree_xoplw")
anim_player = NodePath("../EnemyMesh/AnimationPlayer")
parameters/StateMachine/conditions/is_dead = false

[editable path="EnemyMesh"]
